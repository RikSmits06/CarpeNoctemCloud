<!--/*@thymesVar id="currentUser" type="org.carpenoctemcloud.account.Account"*/-->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset=" UTF-8">
    <title>Carpe Noctem Cloud</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body data-bs-theme="dark" class="d-flex flex-column min-vh-100">
<!-- nav -->
<div th:replace="components/header :: header (activePage = 'search')"></div>
<!-- content -->
<main class="my-3 flex-grow-1">
    <div class="my-2 w-75 mx-auto">
        <div class="row my-2">
            <div class="col-auto align-content-center object-fit-contain"
                 th:if="${category != null}">
                <img th:src="${category.svgPath()}"
                     alt="file logo"
                     class="fileImage">
            </div>

            <div class="col-auto justify-content-center align-content-center object-fit-contain"
                 th:if="${category == null}">
                <img th:src="@{/img/file.svg}" class="fileImage" alt="file">
            </div>
            <h3 class="col align-content-center mb-0" th:text="${resultFile.name()}"></h3>
            <div class="col justify-content-center align-content-center object-fit-contain"
                 th:if="${currentUser != null}">
                <form th:action="'/file/' + ${resultFile.id()} + '/star/'" method="post">
                    <button class="bg-transparent border-0" type="submit">
                        <img th:src="${isStarred} ? '/img/filled-star.svg' : '/img/star.svg'"
                             class="fileImage" alt="star file">
                    </button>
                </form>
            </div>
        </div>
        <strong>Server:</strong>
        <p th:text="${server.host()}"></p>

        <a class="d-flex align-items-center gap-3 download text-reset mb-3"
           th:href="'/file-system/directory/' + ${resultFile.directory_id()}">
            <div class="d-flex justify-content-center"
                 style="width:32px;">
                <img th:src="@{/img/folder.svg}" class="fileImage platformImage"
                     alt="folder">
            </div>
            <span>Original directory</span>
        </a>

        <strong>Download:</strong>
        <div class="d-flex flex-row p-1">
            <ul class="list-unstyled p-0 m-0">
                <!-- VLC -->
                <li class="m-3">
                    <a class="d-flex align-items-center gap-3 download text-reset"
                       th:href="'/redirect-file/VLC/' + ${resultFile.id()}"
                       download>
                        <div class="d-flex justify-content-center"
                             style="width:32px;">
                            <img th:src="@{/img/vlc.svg}" class="fileImage platformImage"
                                 alt="Windows">
                        </div>
                        <span>Download for VLC</span>
                    </a>
                </li>
                <!-- Windows -->
                <li class="m-3">
                    <a class="d-flex align-items-center gap-3 download text-reset"
                       th:href="'/redirect-file/WINDOWS/' + ${resultFile.id()}"
                       download>
                        <div class="d-flex justify-content-center"
                             style="width:32px;">
                            <img th:src="@{/img/windows.svg}" class="fileImage platformImage"
                                 alt="Windows">
                        </div>
                        <span>Download for Windows</span>
                    </a>
                </li>
                <!-- Mac -->
                <li class="m-3">
                    <a class="d-flex align-items-center gap-3 download text-reset"
                       th:href="'/redirect-file/MAC/' + ${resultFile.id()}"
                       download>
                        <div class="d-flex justify-content-center"
                             style="width:32px;">
                            <img th:src="@{/img/mac.svg}" class="fileImage platformImage"
                                 alt="macOS">
                        </div>
                        <span>Download for macOS</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</main>
<!-- footer -->
<div th:replace="components/footer :: footer"></div>
</body>
</html>